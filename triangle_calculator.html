<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Calculator</h1>
    <h3>Javascript Events</h3>

    <p id="errorid" style="color: red"></p>
    <p id="areaid" style="color: green">Result will be printed Here!</p>
    <form id="my_triangle">
      <label for="" style="color:orange;">Base</label>
      <input type="text" style="color: blueviolet;" name="base" id="tribase" step="0.0001" >
      <label for="" style="color: orange;">Height</label>
      <input type="text" name="height" style="color: brown;" id="triheight" step="0.0001" >
      <input type="submit" style="color:green" id="mysubmitbutton" value="Calculate Area" style="color: yellow; background-color: green; border-radius: 12px; padding: 5px;  " >
    </form>

    <script>
      //get form elements
      let form = document.getElementById("my_triangle");
      let height = document.getElementById("triheight");
      let base = document.getElementById("tribase");
      let error = document.getElementById("errorid");
      var area = document.getElementById("areaid")
      let submitButton = document.getElementById("mysubmitbutton");

      

      

      height.addEventListener("input", function (e) {
        let heightValue = String(e.target.value);
        heightValue = heightValue.trim();
        console.log("typed height " + heightValue);
        if (isNaN(heightValue) || heightValue.length == 0) {
          error.innerHTML = "Invalid Height!";
          area.innerHTML = "";
        } 
        else {
          error.innerHTML = " ";
        }
      })

      base.addEventListener("input", function (e) {
        let baseValue = String(e.target.value);
        baseValue = baseValue.trim();
        console.log("typed base " + baseValue);
        if (isNaN(baseValue) || baseValue.length == 0) {
          error.innerHTML = "Invalid Base!";
          area.innerHTML = "";
        } 
        else {
          error.innerHTML = "";
        }
      })

      form.addEventListener("submit", function (e) {
        e.preventDefault(); // Prevent default form submission
        if (isNaN(base.value) || isNaN(height.value)) {
          area.innerHTML = "";
          error.innerHTML="";
          error.innerHTML = "Please enter both base and height (in digits ONLY!)";
          submitButton.disabled = true;
          
        }
        else if((base.value==="") || (height.value ==="")){
          area.innerHTML = ""
          error.innerHTML=""
          error.innerHTML = "Cannot leave any field blank"
        }
        else{
        error.innerHTML = "";
        submitButton.disabled = false
        let baseValue = parseFloat(base.value);
        let heightValue = parseFloat(height.value);
        let area_triangle = 0.5 * baseValue * heightValue;
        area_triangle = parseFloat(area_triangle).toFixed(2); // Keep two decimal places
        area.innerHTML = "Area of triangle is " + area_triangle;
        }
      })
    </script>
  </body>
</html>
