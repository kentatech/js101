<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1 style="color: aqua">Login Creation test</h1>
    <h3 style="color: blue">Javascirpt event listener:input & submit</h3>
    <p id="errorid" style="color: red">
      <!-- Bad Message Displayed Here && this color! -->
    </p>
   
    <form action="" id="myform">
      <label for="">Email Address</label>
      <input
        type="text"
        id="email"
        name="email"
        placeholder="examplemail@mail.com"
      />
      <label for="">Password</label>
      <input type="text" id="password" name="password" placeholder="enter password here"/>

      <input
        type="submit"
        value="Login"
        id="submissionid"
        style="border-radius: 7px; color: green; background-color: yellow"
      />
    </form>
    <script>
      let form = document.getElementById("myform");
      let emailaddress = document.getElementById("email");
      let password_p = document.getElementById("password");
      let submissionFinal = document.getElementById("submissionid");
      let error = document.getElementById("errorid");
      var success = document.getElementById("successid");

      const emailaddressOriginal = "admin@mail.com";
      const password_pOriginal = "Pass123";
      let attempts = 0;
      var regex = /^.{6,}$/;

      emailaddress.addEventListener("input", function validateEmail(e) {
        emailaddressValue = String(e.target.value);
        emailaddressValue = emailaddressValue.trim();
        if (emailaddressValue === "") {
          error.innerHTML = "Invalid! Email cannot be empty";
          // submissionFinal.disabled = true;
        } else if (emailaddressValue.includes('@') && emailaddressValue.includes('.')) {
          error.innerHTML = "";
          submissionFinal.disabled=false
        } else {
          error.innerHTML = "";
          error.innerHTML = "Invalid! Email format is Incorrect!";
        }
      });
      password_p.addEventListener("input", function validatePassword(e) {
        password_pValue = e.target.value;
        password_pValue = password_pValue.trim();
        if (password_pValue === "") {
          error.innerHTML = "Invalid! Password cannot be empty";
          // submissionFinal.disabled = true;
        }
        else if(regex.test(password_pValue)){
            error.innerHTML = "";

        }
        else{
          error.innerHTML = "";
          error.innerHTML = "Invalid! Password minimum Characters is 6 !";
        }
      });

      form.addEventListener("submit", function SubmissionButtonActivity(e) {
        e.preventDefault(); // Prevent default form submission
        if (
          emailaddressValue === emailaddressOriginal &&
          password_pValue === password_pOriginal
        ) {
          alert("You have been successfully Logged in!Redirecting to Dashboard Calculator")
          window.location.href = "triangle_calculator.html"; // Redirect to page.html on successful login
        } else if (
          (emailaddressValue === "") ||
          (password_pValue === "")
        ) {
          error.innerHTML = "All inputs must be filled!";
          submissionFinal.disabled = true;
          
        } else {
          attempts++;
          
            if (attempts >= 5) {
              error.innerHTML = "Account is blocked. Please contact support."
              form.style.display = "none";
              
            } else {
              error.innerHTML = "Invalid Credentials. Attempt(s) = "+ attempts +" out of 5 remaining!";
            }
          
        }
      });
    </script>
  </body>
</html>
