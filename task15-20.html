<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>task 15</title>
  </head>
  <body>
    <script>
      let basicsalary;
      let benefits;
      let gross_salary;
      let nhifContribution;
      let nssfcontribution;
      let nhdfcontribution;
      let taxable_income;
      let payeetax;

      function calculateGrossSalary(basicsalary, benefits) {
        gross_salary = basicsalary + benefits;
        return gross_salary;
      }
      basicsalary = parseFloat(prompt("Enter your basic salary:"));
      benefits = parseFloat(prompt("Enter your benefits:"));
      gross_salary = calculateGrossSalary(basicsalary, benefits);

      console.log("Gross salary is KES"+" "+gross_salary);

      function findnhifcontribution(gross_salary) {
        if (gross_salary <= 5999) {
          return nhifContribution = 150;
        } else if (gross_salary <= 7999) {
          return nhifContribution = 300;
        } else if (gross_salary <= 11999) {
          return nhifContribution = 400;
        } else if (gross_salary <= 14999) {
          return nhifContribution = 500;
        } else if (gross_salary <= 19999) {
          return nhifContribution = 600;
        } else if (gross_salary <= 24999) {
          return nhifContribution = 750;
        } else if (gross_salary <= 29999) {
          return nhifContribution = 850;
        } else if (gross_salary <= 34999) {
          return nhifContribution = 900;
        } else if (gross_salary <= 39999) {
          return nhifContribution = 950;
        } else if (gross_salary <= 44999) {
          return nhifContribution = 1000;
        } else if (gross_salary <= 49999) {
          return nhifContribution = 1100;
        } else if (gross_salary <= 59999) {
          return nhifContribution = 1200;
        } else if (gross_salary <= 69999) {
          return nhifContribution = 1300;
        } else if (gross_salary <= 79999) {
          return nhifContribution = 1400;
        } else if (gross_salary <= 89999) {
          return nhifContribution = 1500;
        } else if (gross_salary <= 99999) {
          return nhifContribution = 1600;
        } else {
          return nhifContribution = 1700;
        }
        return nhifContribution;
      }
      
      nhifContribution = findnhifcontribution(gross_salary);
      console.log( "N.H.I.F Contribution is KES" + " " +nhifContribution)

      function findnssfcontribution(gross_salary) {
        if (gross_salary > 18000) {
          nssfcontribution = 0.06 * 18000;
        } else {
          nssfcontribution = 0.06 * gross_salary;
        }
        return nssfcontribution;
      }
      nssfcontribution = findnssfcontribution(gross_salary);
      console.log( "N.S.S.F Contribution is KES" + " " + nssfcontribution)

      function findnhdfcontribution(gross_salary) {
        nhdfcontribution = gross_salary * 0.015;
        return nhdfcontribution;
      }
      nhdfcontribution = findnhdfcontribution(gross_salary);

      function findthetaxableincome(
        gross_salary,
        nssfcontribution,
        nhifContribution,
        nhdfcontribution
      ) {
        taxable_income =
          gross_salary -
          (nssfcontribution + nhifContribution + nhdfcontribution);
        return taxable_income;
      }
      taxable_income = findthetaxableincome(
        gross_salary,
        nssfcontribution,
        nhifContribution,
        nhdfcontribution
      );

      function findthepayee(taxable_income) {
        let personal_relief = 2400;
        if (taxable_income <= 24000) {
          payeetax = taxable_income * 0.1;
        } else if (taxable_income <= 24000 + 8333) {
          payeetax = 24000 * 0.1 + (taxable_income - 24000) * 0.25;
        } else if (taxable_income <= 24000 + 8333 + 467667) {
          payeetax =
            24000 * 0.1 + 8333 * 0.25 + (taxable_income - 24000 - 8333) * 0.3;
        } else if (taxable_income <= 24000 + 8333 + 467667 + 300000) {
          payeetax =
            24000 * 0.1 +
            8333 * 0.25 +
            467667 * 0.3 +
            (taxable_income - 24000 - 8333 - 467667) * 0.325;
        } else {
          payeetax =
            24000 * 0.1 +
            8333 * 0.25 +
            467667 * 0.3 +
            300000 * 0.325 +
            (taxable_income - 24000 - 8333 - 467667 - 300000) * 0.35;
        }
        payeetax -= personal_relief;
        return payeetax;
      }
      payeetax = findthepayee(taxable_income);

      function findTheNetsalary(
        gross_salary,
        nhdfcontribution,
        nhifContribution,
        nssfcontribution,
        payeetax
      ) {
        netsalary =
          gross_salary -
          (nssfcontribution + nhdfcontribution + nhifContribution + payeetax);
        return netsalary;
      }
      netsalary = findTheNetsalary(
        gross_salary,
        nhdfcontribution,
        nhifContribution,
        nssfcontribution,
        payeetax
      );
    </script>
  </body>
</html>
